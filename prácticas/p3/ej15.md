# Práctica 3 / Ejercicio 15

Suposiciones:
- Hay `N` especies en total.
- La variable `i` del proceso representa la especie que llegó a la puerta.
- La variable `sexo` es un entero con valores `0` y `1` para representar a los 2 sexos.
- Los semáforos utilizan una FIFO internamente para encolar los procesos que están esperando la señal.

```c
semaphore puerta[N][2] = sem(0);

void P(int i, int sexo) {
    // Avisamos que estamos en la cola.
    puerta[i][sexo].signal();
    // Esperamos que haya alguien del otro sexo.
    puerta[i][(sexo+1) % 2].wait();
    // Hay una pareja en la puerta.
    // Como la función entrar solo recibe la especie, asumimos
    // que hay que llamarla una única vez y entra la pareja junta.
    if (sexo == 1) entrar(i);
}
```
